\documentclass[12pt,openany]{extbook}
\usepackage{etoolbox}

\newtoggle{BOOK}
\togglefalse{BOOK}

\usepackage{letltxmacro}
\usepackage{verbatim}
\usepackage{textalpha}
\usepackage{amsmath}
\usepackage{libertinus}
\usepackage{hyperref}

\iftoggle{BOOK}{
	\usepackage[a5paper,margin=0.7in]{geometry}
}{
	\usepackage[margin=0.9in]{geometry}
}
% \usepackage[margin=0.9in]{geometry}
\usepackage{titlesec}
\usepackage{chronology}
\usepackage{quotchap}
\usepackage[style=authoryear,backend=biber,url=true,natbib=true]{biblatex}
\usepackage{tikz}
\usepackage{luacode}
\usepackage{listings}
\usepackage{minted}
\usepackage[toc,acronym]{glossaries}
\usepackage{setspace}
\usepackage{cleveref}
\usepackage{booktabs}
\usepackage{tabularx}

% \usepackage{thirdparty/lstlangs/llvm/lang}

\setacronymstyle{long-short-desc}

\setcounter{secnumdepth}{5} % seting level of numbering (default for "report" is 3). With ''-1'' you have non number also for chapters
\setcounter{tocdepth}{5} % if you want all the levels in your table of contents

\addbibresource{refs.bib}
\fontfamily{libertinus}
\titleformat{\chapter}[frame]{\normalfont\huge\bfseries}{\thechapter}{0.5em}{\Huge\centering}
\titlespacing{\chapter}{0pt}{0pt}{40pt}
\title{A Brief History of Compilers}
\author{Asher Mancinelli}
% \date{\today}
\begin{luacode}
	local shell = require("lua/shell")
	local rev = shell.git_revision()
	local title = string.format("\\date{\\today, Revision: %s}", rev)
	tex.print(title)
\end{luacode}
\raggedbottom
